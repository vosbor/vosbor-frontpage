{"version":3,"file":"component---src-pages-press-js-9b5a5efce2fb83f60c0c.js","mappings":"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","sources":["webpack://vosbor-frontpage/./src/helpers/contactForm.js","webpack://vosbor-frontpage/./src/pages/press.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Spinner } from \"./form-sections\";\nimport { media } from \"./media-queries\";\nimport { SubmitButton } from \"../components/ButtonLink\";\nimport { LabeledInput } from \"../components/LabeledInput\";\nimport { LabeledTextarea } from \"../components/LabeledTextarea\";\nimport { FormElementsColumnWrapper } from \"../helpers/form-sections\";\nimport InputValidIcon from \"../images/input_valid.svg\";\nimport { isEmailFormatValid } from \"../helpers/email\";\n\n/*\n        action=\"https://europe-west1-vosbor-io.cloudfunctions.net/function-vosbor-form-mailer\"\n        method=\"POST\"\n        autoComplete=\"off\"\n        enctype=\"multipart/form-data\"\n*/\n\nexport const FormType = {\n  press: \"press\",\n  info: \"info\",\n};\n\nexport const ContactForm = ({ type }) => {\n  const [name, setName] = useState(\"\");\n  const [company, setCompany] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const isPressForm = type === FormType.press;\n\n  const isFormSatisfied =\n    name &&\n    isEmailFormatValid(email) &&\n    message &&\n    (isPressForm ? !!company : true);\n\n  const onFormSubmit = async (e) => {\n    e.preventDefault();\n    setIsSubmitted(true);\n\n    if (!isFormSatisfied) {\n      return;\n    }\n\n    setLoading(true);\n\n    const url =\n      \"https://europe-west1-vosbor-io.cloudfunctions.net/function-vosbor-form-mailer\";\n    const formData = new FormData();\n    formData.append(\"type\", type);\n    formData.append(\"name\", name);\n    formData.append(\"company\", company);\n    formData.append(\"email\", email);\n    formData.append(\"message\", message);\n    const config = {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      body: formData,\n    };\n\n    try {\n      const response = await fetch(url, config);\n\n      console.log(response.data);\n      window.location = \"/response-ok\";\n    } catch (error) {\n      console.log(\"ERROR:\", error);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <FormWrapper>\n      {loading && <Spinner />}\n      <Form onSubmit={onFormSubmit}>\n        <input type=\"hidden\" name=\"type\" value={type} />\n        <FormElementsColumnWrapper>\n          <LabeledInput\n            type=\"text\"\n            placeholder=\"Enter full name\"\n            name=\"name\"\n            autoComplete=\"off\"\n            onChange={(e) => setName(e?.target?.value.trim())}\n            disabled={loading}\n            label=\"Full name\"\n            required\n            icon={name && <InputValidIcon />}\n            isInvalid={isSubmitted && name === \"\"}\n          />\n          <LabeledInput\n            type=\"text\"\n            placeholder=\"Enter company name\"\n            name=\"company\"\n            autoComplete=\"off\"\n            onChange={(e) => setCompany(e?.target?.value.trim())}\n            disabled={loading}\n            label=\"Company\"\n            icon={company && <InputValidIcon />}\n            required={isPressForm}\n            isInvalid={isPressForm && isSubmitted && company === \"\"}\n          />\n        </FormElementsColumnWrapper>\n        <LabeledInput\n          type=\"email\"\n          placeholder=\"Enter email address\"\n          name=\"email\"\n          autoComplete=\"off\"\n          onChange={(e) => setEmail(e?.target?.value.trim())}\n          disabled={loading}\n          required\n          label=\"Email address\"\n          icon={isEmailFormatValid(email) && <InputValidIcon />}\n          isInvalid={isSubmitted && !isEmailFormatValid(email)}\n        />\n        <LabeledTextarea\n          placeholder=\"Type message...\"\n          name=\"message\"\n          autoComplete=\"off\"\n          onChange={(e) => setMessage(e?.target?.value.trim())}\n          disabled={loading}\n          label=\"Message\"\n          required\n          icon={message && <InputValidIcon />}\n          isInvalid={isSubmitted && message === \"\"}\n        />\n        <InfoText>\n          Your data will only be used by authorised Vosbor personnel, not\n          distributed to third parties and only used to contact you and to send\n          you our newsletter. By using the contact form you agree to our privacy\n          policy.\n        </InfoText>\n        <StyledSubmitButton disabled={loading}>Submit</StyledSubmitButton>\n      </Form>\n    </FormWrapper>\n  );\n};\n\nconst FormWrapper = styled.div`\n  ${media.m`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  `}\n`;\n\nconst Form = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n\n  ${media.m`\n    max-width: 560px;\n    width: 100%;\n  `}\n`;\n\nconst InfoText = styled.div`\n  font-family: \"Roboto\";\n  font-style: normal;\n  font-weight: 400;\n  font-size: 9px;\n  line-height: 18px;\n  text-align: right;\n  letter-spacing: 0.002em;\n  color: #747487;\n  ${media.m`\n    max-width: 440px;\n    align-self: end;\n  `}\n`;\n\nconst StyledSubmitButton = styled(SubmitButton)`\n  margin-top: 24px;\n  width: 100%;\n\n  ${media.m`\n    width: 160px;\n  `}\n`;\n","import * as React from \"react\";\nimport styled from \"styled-components\";\nimport { ContactForm, FormType } from \"../helpers/contactForm\";\nimport { Footer } from \"../helpers/footer\";\nimport { FormSection, FormText, FormTitle } from \"../helpers/form-sections\";\nimport { MainHeader } from \"../helpers/header\";\nimport { SeoComponent } from \"../helpers/seoComponent\";\n\n// markup\nconst PressPage = () => {\n  return (\n    <SeoComponent>\n      <main>\n        <MainHeader dark />\n        <FormSection>\n          <div>\n            <FormTitle>Press inquiry</FormTitle>\n            <FormText>\n              For Vosbor's resources for journalists and more information,\n              please contact our PR team.\n            </FormText>\n          </div>\n          <ContactFormWrapper>\n            <ContactForm type={FormType.press}></ContactForm>\n          </ContactFormWrapper>\n        </FormSection>\n        <Footer />\n      </main>\n    </SeoComponent>\n  );\n};\n\nconst ContactFormWrapper = styled.div`\n  margin-top: 40px;\n`;\n\nexport default PressPage;\n"],"names":["FormType","press","info","ContactForm","_ref","type","_useState","useState","name","setName","_useState2","company","setCompany","_useState3","email","setEmail","_useState4","message","setMessage","_useState5","isSubmitted","setIsSubmitted","_useState6","loading","setLoading","isPressForm","isFormSatisfied","isEmailFormatValid","onFormSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","e","formData","config","response","_context","prev","next","preventDefault","abrupt","FormData","append","method","mode","cache","body","fetch","sent","console","log","data","window","location","t0","stop","_x","apply","arguments","React","FormWrapper","Spinner","Form","onSubmit","value","FormElementsColumnWrapper","LabeledInput","placeholder","autoComplete","onChange","_e$target","target","trim","disabled","label","required","icon","InputValidIcon","isInvalid","_e$target2","_e$target3","LabeledTextarea","_e$target4","InfoText","StyledSubmitButton","styled","div","withConfig","displayName","componentId","media","m","_templateObject","_taggedTemplateLiteralLoose","form","_templateObject2","_templateObject3","SubmitButton","_templateObject4","ContactFormWrapper","SeoComponent","MainHeader","dark","FormSection","FormTitle","FormText","Footer"],"sourceRoot":""}